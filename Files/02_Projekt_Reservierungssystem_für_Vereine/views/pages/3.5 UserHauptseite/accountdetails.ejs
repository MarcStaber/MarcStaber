<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Reservierungsseite für Vereine </title>
  <link rel="stylesheet" href="http://localhost:3000/static/stylesheetUserverwaltung.css">
  <script src="https://kit.fontawesome.com/24eb8f8898.js" crossorigin="anonymous"></script>

</head>

<body>

  <header class="mainHeader" id="Start">
    <img class= "logo"src="http://localhost:3000/static/logo.png" alt="Hier sollte ein Logo Stehen">
    <flexitem>      
      <i class="fa-sharp fa-solid fa-user"></i>
      <p><%= account[0].first_name %></p></flexitem>
    <div class="mainHeader1">
      <h1>   <%= club[0].characteristic %></h1>
    </div>
    <flexitem>
      <a href="/logout"><button>Logout</button></a>
    </flexitem>
    <img class= "logo"src="http://localhost:3000/static/logo.png" alt="Hier sollte ein Logo Stehen">
  </header>
<nav class="topnav" id="Top">
    <a class="active" href="/accountdetails">Accountdetails</a>
    <a id="reservationBtn" href="/user/:userId/main"> Reservierung</a> 
    <a href="/clubcontact">Kontakt</a>
</nav>

  <script>
    function toggleShowPassword() {
        const passwordInput = document.getElementById('userPassword');
        const confirmInput = document.getElementById('confirmPassword');
        const showPasswordCheckbox = document.getElementById('showPassword');
        const inputType = showPasswordCheckbox.checked ? 'text' : 'password';

        passwordInput.type = inputType;
        confirmInput.type = inputType;
    }

    function validatePassword() {
        const passwordInput = document.getElementById('userPassword');
        const confirmInput = document.getElementById('confirmPassword');
        const saveButton = document.getElementById('saveButton');

        if (passwordInput.value === confirmInput.value && passwordInput.value.trim() !== '') {
            saveButton.disabled = false;
        } else {
            saveButton.disabled = true;
        }
    }
</script>


<section class="mainPart" id="accountinfo">
  <% if (account && account.length > 0) { %>
    <form action="/saveaccountdetails/<%=account[0].user_id%>" method="post" enctype="application/x-www-form-urlencoded">
      <article class="accountForm">
      <div class="form-group">
        <label for="firstName">Vorname</label>
        <input type="text" id="firstName" name="firstName" value="<%= account[0].first_name %>">
      </div>
  
      <div class="form-group">
        <label for="lastName">Nachname</label>
        <input type="text" id="lastName" name="lastName" value="<%= account[0].last_name %>">
      </div>
  
      <div class="form-group">
        <label for="userEmail">Email-Adresse</label>
        <input type="text" id="userEmail" name="userEmail" value="<%= account[0].email_address %>">
      </div>
  
      <div class="form-group">
        <label for="userPhoneNumber">Telefonnummer</label>
        <input type="text" id="userPhoneNumber" name="userPhoneNumber" value="<%= account[0].telephone_number %>">
      </div>
  
      <div class="form-group">
        <label for="counrty">Land</label>
        <input type="text" id="userCountry" name="userCountry" value="<%= account[0].country %>"> 
      </div>
    
      <div class="form-group">
        <label for="userAddress">Straße</label>
        <input type="text" id="userAddress" name="userAddress" value="<%= account[0].street %>">
      </div>
      <div class="form-group">
        <label for="userHouseNumber">Hausnummer</label>
        <input type="text" id="userHouseNumber" name="userHouseNumber" value="<%= account[0].house_number %>">
      </div>
      </article>

      <flexitem> </flexitem>
      <article class="accountForm">

  
      <div class="form-group">
        <label for="userZip">Postleitzahl</label>
        <input type="text" id="userZip" name="userZip" value="<%= account[0].zip_code %>">
      </div>
  
      <div class="form-group">
        <label for="userCity">Stadt</label>
        <input type="text" id="userCity" name="userCity" value="<%= account[0].city %>">
      </div>
  
      <div class="form-group">
        <label for="userPassword">Passwort</label>
        <input type="password" id="userPassword" name="userPassword" value="<%= account[0].password %>">
      </div>

      <div class="form-group">
        <label for="confirmPassword">Passwort bestätigen</label>
        <input type="password" id="confirmPassword" name="confirmPassword" oninput="validatePassword()">
    </div>

    <div class="password-toggle">
      <input type="checkbox" id="showPassword" onchange="toggleShowPassword()">
      <label for="showPassword">Passwort anzeigen</label>
  </div>
    <br>
  
   <button type="submit" id="saveButton" disabled>Änderungen speichern</button>

    </article>
    </form>
    <% } else { %>
      <!-- Handle the 'else' condition -->
    <% } %>
  
</section>
   
    <!--<a class="returnButton" href="/vereinverwaltung">Zurück zur Benutzerliste</a> -->
  <%- include('../../partials/footer'); %>
</body>

</html>